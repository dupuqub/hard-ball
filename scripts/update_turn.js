
'use strict'

//......................................................................................................................
//
G.update_turn = _ =>
{
  G.S.turn ++

  G.update_lights()

  //....................................................................................................................
  //
  if( G.S.holder.future !== null ) G.update_holder()

  //....................................................................................................................
  // punt
  //
  if( G.S.holding.turns === 5 && G.taking_shot() !== G.S.holding.team )
  {
    G.S.punting = true
    G.S.holder.now = null

    G.update_selected( 'ball' )
  }

  //....................................................................................................................
  // update bulbs
  //
  if( G.S.holding.team === G.plays_now() && G.S.holding.turns < 5 )
  {
    G.S.holding.turns ++

    G.update_bulbs()
  }

  //....................................................................................................................
  //
  if( G.taking_shot() !== null && G.taking_shot() === G.plays_now() && G.S.holder.now === null )
  {
    alert( ( G.plays_now() === 'blue' ? 'BLUE' : 'GREEN' ) + ' WINS !' )
  }
}

